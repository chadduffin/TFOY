#include "yendor.h"

int DCOLS = 98;
int DROWS = 58;
int DCOLS_OFFSET = 1;
int DROWS_OFFSET = 1;
int TILE_SOURCE_WIDTH = 12;
int TILE_SOURCE_HEIGHT = 12;

SDL_Thread *threads[GAME_THREAD_COUNT];

boolean vismap[COLS][ROWS];
G_TileCell tilemap[COLS][ROWS];
G_LightNode lightmap[COLS][ROWS];

G_Id menu_id;
G_Id overworld_id;

G_FPS fps;
G_Console console;
G_GameInformation game_info;

G_Tree *scenes = NULL;
G_Scene *active_scene = NULL;

char title[ROWS][COLS] = {
  {"                                                                                                    "},
  {"                                       T H E   F E L L O W S H I P S   O F                          "},
  {"   BBBB              BBBB                                                                           "},
  {"     BB              BB                                                                             "},
  {"      BB            BB    BBBBBBBBBBBBB BB          BB BBBBBBB          BBBBBB     BBBBBBBB         "},
  {"       BB          BB      B          B  BB         B   B    BBBB     BBB    BBB    B     BBB       "},
  {"        BB        BB       B             BBB        B   B       BB   BB        BB   B       BB      "},
  {"         BB      BB        B             B BB       B   B        BB BB          BB  B        B      "},
  {"          BB    BB         B             B  BB      B   B         B B            B  B        B      "},
  {"           BB  BB          B             B   BB     B   B         B B            B  B       BB      "},
  {"            BBBB           BBBBBBBBBB    B    BB    B   B         B B            B  B     BBB       "},
  {"             BB            B             B     BB   B   B         B B            B  BBBBBBB         "},
  {"             BB            B             B      BB  B   B        BB BB          BB  B    BB         "},
  {"             BB            B             B       BB B   B       BB   BB        BB   B     BB        "},
  {"             BB            B          B  B        BBB   B    BBBB     BBB    BBB    B      BB       "},
  {"             BB           BBBBBBBBBBBBB BB         BBB BBBBBBB          BBBBBB     BBB      BBB     "},
  {"             BB                                                                                     "},
  {"            BBBB                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
  {"                                                                                                    "},
};

char test_scene[WORLD_ROWS][WORLD_COLS] = {
  {"###############################################################################################################################################################"},
  {"#.............................................................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#................................................................................................................................###############..............#"},
  {"#................................................................................................................................#.............#..............#"},
  {"#................................................................................................................................#.............#..............#"},
  {"#................................................................................................................................#.............#..............#"},
  {"#................................................................................................................................#............................#"},
  {"#................................................................................................................................#.............#..............#"},
  {"#................................................................................................................................#.............#..............#"},
  {"#................................................................................................................................#.............#..............#"},
  {"#................................................................................................................................#######.#######..............#"},
  {"#.............................................................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#....................................................#........................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#...............##..................................##........................................................................................................#"},
  {"#...............##..................................##........................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#............................................#................................................................................................................#"},
  {"#......................##.....................................................................................................................................#"},
  {"#......................##..................................#..................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#.............##..............................................................................................................................................#"},
  {"#.............##..............................................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#......##............##.......................................................................................................................................#"},
  {"#......##............##..........##...........................................................................................................................#"},
  {"#................................##...........................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#.............................................................................................................................................................#"},
  {"#.............##.......................................................................................................................###....................#"},
  {"#.............##.........................................................................................................................#....................#"},
  {"#............................##........................................................................................................#.#....................#"},
  {"#............................##..........................ll..................................................................###########.###########..........#"},
  {"#.......................................................ll...................................................................#ffff..f.......f.fffff#..........#"},
  {"#........##.............................................ll...................................................................#f.f...............fff#..........#"},
  {"#........##............................................lll...................................................................#ff.f..f..ffff..ff..ff#..........#"},
  {"#......................................................lll...................................................................#ff.......f.ff..f..f.f#..........#"},
  {"#......................##.............................lll....................................................................#fff.f.fffffffff.f...f#..........#"},
  {"#......................##............................llll....................................................................#f.ff...fff..f.ffff.ff#..........#"},
  {"#....................................................llll....................................................................#ffff...fff.......ffff#..........#"},
  {"#...................................................lllll....................................................................#fff.....f...fff.f..ff#..........#"},
  {"#..................................................lllllll...................................................................#.ffff.ffff....ff.ffff#..........#"},
  {"#.............##...................................lllllll...................................................................#######################..........#"},
  {"#.............##..................................llllllll....................................................................................................#"},
  {"#................................................lllllllll....................................................................................................#"},
  {"#................................................llllllllll...................................................................................................#"},
  {"#...............................................llllll.llll...................................................................................................#"},
  {"#..............................................lllllll.llll...................................................................................................#"},
  {"#..............................................lllllll.llll...................................................................................................#"},
  {"#.............................................lllllllll.lll...................................................................................................#"},
  {"#.............................................lllllllll.llll..................................................................................................#"},
  {"#.............................................llllllllll.lll..................................................................................................#"},
  {"#..............#.............................lllllllllll.lll..................................................................................................#"},
  {"#..............#..........................l..llllllllllll.lll.......................................................wwwwwwwwww................................#"},
  {"#..............#..........................ll.lllllllllllll.lll....................................................wwwwwwwwwwwwww..............................#"},
  {"#..............#..........................ll.llllllllllllll.ll..................................................wwwwwwwwwwwwwwwwwwww..........................#"},
  {"#..............#..........................ll.lllllllllllllll.ll...............................................wwwwwwwwwwwwwwwwwwwwwwwwwg......................#"},
  {"#................................lllll....lll.lllllllllllllll.l..............................................wwwwwwwwwwwwwwwwwwwwwwwwwwgg.g...................#"},
  {"#...................................llll..llll.lllllllllllllll.............................................wwwwwwwwwwwwwwwwwwwwwwwwwwwwwgggg..g...g..g........#"},
  {"#....................................llll.lllll..lllllllllllll.............................................wwwwwwwwwwwwwwwwwwwwwwwwwwwwwggggg..g.g..gg........#"},
  {"#.....................................llll.llllll..llllllllllll............................................wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwggggggggg.g.g.g......#"},
  {"#......................................lll.llllllll..llllllllll...........................................wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwgggggggggggg.g.g.gg..#"},
  {"#......................................llll.lllllllll.lllllllll..llllllllll...............................wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwggggggggggggggg.ggg..#"},
  {"#......................................llll.lllllllll.lllllllllllllllll....................................wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwgggggggggggggggggg.g.#"},
  {"#.......................................llll.llllllll.lllllllllllll.........................................wwwwwwwwwwwwwwwwwwwwwwwwwwwwwggggggggggggggggggg..#"},
  {"#.......................................lllll..lllll.lllllllllll............................................wwwwwwwwwwwwwwwwwwwwwwwwwwwwwggggggggggggggggggggg#"},
  {"#........................................llllll.....llllllllll..............................................wwwwwwwwwwwwwwwwwwwwwwwwwwwwgggggggggggggggggggggg#"},
  {"#..........................................lllllllllllll..................................................wwwwwwwwwwwwwwwwwwwwwwwwwwwggggggggggggggggggggggggg#"},
  {"#........................................................................................................wwwwwwwwwwwwwwwwwwwwwwwwggggggggggggggggggggggggggggg#"},
  {"#......................................................................................................wwwwwwwwwwwwwwwwwwwwwwwwwwwwggggggggggggggggggggggggggg#"},
  {"#....................................................................................................wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwgggggggggggggggggggggggg#"},
  {"#.................................................................................................wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwgggggggggggggggggggg#"},
  {"#..........................................gggggggg.gggggggg.gg....gg.gggggggg..................wwwwwwwwwwwwwwwwwwwwgggggwwwwwwwwwwwwwwwwwgggggggggggggggggggg#"},
  {"#..........................................gggggggg.gggggggg.gg....gg.gggggggg.................wwwwwwwwwwwwwwwwwwwwgggggggwwwwwwwwwwwwwwwwwwgggggggggggggggggg#"},
  {"#..........................................gg.......gg.......gg....gg.gg.....................wwwwwwwwwwwwwwwwwwwwwwgggggggwwwwwwwwwwwwwwwwwwwwwwgggggggggggggg#"},
  {"#..........................................gg.......gggggggg.gg....gg.gg....................gwwwwwwwwwwwwwwwwwwwwwwgggggggwwwwwwwwwwwwwwwwwwwwwwwggggggggggggg#"},
  {"#..f..f....f...............................gg.............gg.gg....gg.gg...................gwwwwwwwwwwwwwwwwwwwwwwwwgggggwwwwwwwwwwwwwwwwwwwwwwggggggggggggggg#"},
  {"#...f......f.f..ff.........................gggggggg.gggggggg.gggggggg.gggggggg.............gwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwgggggggggggggggggggg#"},
  {"#ffff.f.f...f...f..........................gggggggg.gggggggg.gggggggg.gggggggg.............ggwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwggggggggggggggggggggggggg#"},
  {"#ffffffffffffff....ff......................g........g........g........g....................gggwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwggggggggggggggggggggggggggggggg#"},
  {"#fffffffffffffffffff.f.....................ggggggggggggggggggggggggggggggggggg...........gggggggwwwwwwwwwwwwwwwwwwwwwwgggggggggggggggggggggggggggggggggggggggg#"},
  {"#fffffffffffffffffff..ff...................ggggggggggggggggggggggggggggggggggg..g.ggg.gggggggggggggwwwwwwwwwwwwggggggggggggggggggggggggggggggggggggggggggggggg#"},
  {"#ffffffffffffffffffffffff.f................gg..................................gggggggggggggggggggggggggggwwwggggggggggggggggggggggggggggggggggggggggggggggggg#"},
  {"#fffffffffffffffffffff...ff................gg.........................g.g.gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg#"},
  {"#ffffffffffffffffffffffff..................ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg#"},
  {"###############################################################################################################################################################"},
};
